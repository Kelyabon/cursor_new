[Unit]
Description=Xray Service (VLESS + Reality)
Wants=network-online.target
After=network-online.target nss-lookup.target

[Service]
User=xray
Group=xray
AmbientCapabilities=CAP_NET_BIND_SERVICE
CapabilityBoundingSet=CAP_NET_BIND_SERVICE
NoNewPrivileges=true
ExecStart=/usr/local/bin/xray -config /etc/xray/config.json
ExecReload=/bin/kill -HUP $MAINPID
Restart=always
RestartSec=3
LimitNOFILE=1048576
RuntimeDirectory=xray
LogsDirectory=xray
ProtectSystem=full
ProtectHome=true
ReadWritePaths=/etc/xray /var/log/xray

[Install]
WantedBy=multi-user.target


